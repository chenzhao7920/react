<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>

<div class="qipan">
    <div class="row">
        <div class="gezi" id="1">
            
        </div>
        <div class="gezi" id="2">
    
        </div>
        <div class="gezi " id="3">
        </div>  
    </div>
    <div class="row">
        <div class="gezi " id="4">

        </div>
        <div class="gezi " id="5">
    
        </div>
        <div class="gezi " id="6">
        </div>  
    </div>
    <div class="row">
        <div class="gezi " id="7">

        </div>
        <div class="gezi " id="8">
    
        </div>
        <div class="gezi " id="9">
        </div>  
    </div>  
</div>

<style>
    .gezi{
        background: black;
        width: 90px;
        height: 90px;
        margin: 10px;
    }
</style>

<script>
    var isclickable = true;
    var isRed = true;
    var gezi1 = "black";
    var gezi2 = "black";
    var gezi3 = "black";
    var gezi4 = "black";
    var gezi5 = "black";
    var gezi6 = "black";
    var gezi7 = "black";
    var gezi8 = "black";
    var gezi9 = "black";

    var gezi =["black","black","black","black","black","black","black","black","black", ]
    $(".gezi").on("click", function(){
        if(!isclickable) return;
        if(isRed){
            var id = $(this).attr("id");
            var 更新了没 = 存颜色(id, "red");
            if(更新了没){
                $(this).css("background", "red");
                isRed = !isRed; //换玩家
            }
        }
        else{
            var id = $(this).attr("id");
            var 更新了没 = 存颜色(id, "green");
            if(更新了没){
                $(this).css("background", "green");
                isRed = !isRed; //换玩家
            }
        }
        if(gezi1 != "black" && gezi1 === gezi2 && gezi2 === gezi3){
            console.log("win");
            isclickable = false;
        }else if(gezi4 != "black" &&gezi4 === gezi5 && gezi5 === gezi6){
            console.log("win");
        }else if(gezi7 != "black" &&gezi7 === gezi8 && gezi8 === gezi9){
            console.log("win");
        }else if(gezi1 != "black" &&gezi1 === gezi4 && gezi1 === gezi7){
            console.log("win");
        }else if(gezi2 != "black" &&gezi2 === gezi5 && gezi5 === gezi8){
            console.log("win");
        }else if(gezi3 != "black" &&gezi3 ===gezi6 && gezi6 === gezi9){
            console.log("win");
        }else if(gezi1 != "black" &&gezi1 === gezi5 && gezi5 === gezi9){
            console.log("win");
        }else if(gezi3 != "black" &&gezi3 === gezi5 && gezi5 === gezi7){
            console.log("win");
        }
        
    })

    //这个函数接受一个格子ID， 和颜色， 然后把gezix存成颜色
    function 存颜色(格子id, 颜色){
        var idx = parseInt(格子id) -1;
        if(gezi[idx] != "black") return false;
        gezi[idx] = 颜色;
        switch(格子id){
            case "1":
                gezi1 = 颜色
            break;
            case "2":
                gezi2 = 颜色
            break;
            case "3":
                gezi3 = 颜色
            break;
            case "4":
                gezi4 = 颜色
            break;
            case "5":
                gezi5 = 颜色
            break;
            case "6":
                gezi6 = 颜色
            break;
            case "7":
                gezi7 = 颜色
            break;
            case "8":
                gezi8 = 颜色
            break
            case "9":
                gezi9 = 颜色
            break;
        }
        
        return true;
    }

</script>
